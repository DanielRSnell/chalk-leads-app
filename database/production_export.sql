PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE IF NOT EXISTS "migrations" ("id" integer primary key autoincrement not null, "migration" varchar not null, "batch" integer not null);
INSERT INTO migrations VALUES(1,'0001_01_01_000000_create_users_table',1);
INSERT INTO migrations VALUES(2,'0001_01_01_000001_create_cache_table',1);
INSERT INTO migrations VALUES(3,'0001_01_01_000002_create_jobs_table',1);
INSERT INTO migrations VALUES(4,'2025_08_06_180222_create_companies_table',1);
INSERT INTO migrations VALUES(5,'2025_08_06_180223_add_company_id_to_users_table',1);
INSERT INTO migrations VALUES(6,'2025_08_06_180225_create_widgets_table',1);
INSERT INTO migrations VALUES(7,'2025_08_06_180226_create_widget_steps_table',1);
INSERT INTO migrations VALUES(8,'2025_08_06_180236_create_widget_leads_table',1);
INSERT INTO migrations VALUES(9,'2025_08_06_180236_create_widget_pricing_table',1);
INSERT INTO migrations VALUES(10,'2025_08_06_180236_create_widget_templates_table',1);
INSERT INTO migrations VALUES(11,'2025_08_08_135501_update_users_add_system_admin_role',2);
INSERT INTO migrations VALUES(12,'2025_08_08_161244_add_pricing_to_widgets_table',3);
CREATE TABLE IF NOT EXISTS "password_reset_tokens" ("email" varchar not null, "token" varchar not null, "created_at" datetime, primary key ("email"));
CREATE TABLE IF NOT EXISTS "sessions" ("id" varchar not null, "user_id" integer, "ip_address" varchar, "user_agent" text, "payload" text not null, "last_activity" integer not null, primary key ("id"));
INSERT INTO sessions VALUES('kA0uVz6KyynNuC2xO6WSn6OtJNAph7JlTseiLDub',3,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiVktpbk43YkhhaURRaERaMkY2NEl0VDNnYXU5SXJwUHZYeEJ2cG5RYiI7czo1MDoibG9naW5fd2ViXzU5YmEzNmFkZGMyYjJmOTQwMTU4MGYwMTRjN2Y1OGVhNGUzMDk4OWQiO2k6MztzOjk6Il9wcmV2aW91cyI7YToxOntzOjM6InVybCI7czo0MjoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L3dpZGdldHMvMS9saXZlIjt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754835586);
INSERT INTO sessions VALUES('0S0SHWksGRAvPiqt5u8lDmPZVXxlb8tfgm3QuguY',NULL,'127.0.0.1','curl/8.7.1','YTozOntzOjY6Il90b2tlbiI7czo0MDoicjZqeW5kSE94dTROZWNuMVNmR1hlbEkybTUyMWxtNjNTdllnTjFrcyI7czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6MzY6Imh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC93aWRnZXRzLzEvbGl2ZSI7fXM6NjoiX2ZsYXNoIjthOjI6e3M6Mzoib2xkIjthOjA6e31zOjM6Im5ldyI7YTowOnt9fX0=',1754832278);
INSERT INTO sessions VALUES('bK0hKcQI1jGJQqRWZN8ZfBSlkwYkKne1RMXkmBYM',NULL,'127.0.0.1','curl/8.7.1','YTozOntzOjY6Il90b2tlbiI7czo0MDoiSkJSSHBqMG84SDFUcFJjOVVyUjNXa2JWZ0d1R0R1NThETVJ1RUNqVyI7czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6NDI6Imh0dHA6Ly9jaGFsay1sZWFkcy1hcHAudGVzdC93aWRnZXRzLzEvbGl2ZSI7fXM6NjoiX2ZsYXNoIjthOjI6e3M6Mzoib2xkIjthOjA6e31zOjM6Im5ldyI7YTowOnt9fX0=',1754832289);
INSERT INTO sessions VALUES('E3DHl4CTGn8v4TspgXkHPqLN8xIKrDUa4Q0F2pdj',NULL,'127.0.0.1','curl/8.7.1','YToyOntzOjY6Il90b2tlbiI7czo0MDoiWlNLSjFJMXl1M2c2TVB2RWVWNGpTOXpYdVNyak1zSWRDU3lnOE1qZSI7czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754832296);
INSERT INTO sessions VALUES('AtcMvJMRWkm7WosyikN6Qvl3H2Tf7zysmovILPKr',NULL,'127.0.0.1','curl/8.7.1','YToyOntzOjY6Il90b2tlbiI7czo0MDoiaE9VUTBWbGs2SFFLeDNacnBuWklyVnRvNUx2b2x6cWdwcm5tQ1ByMSI7czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754832386);
INSERT INTO sessions VALUES('rAdyrWisaMdWZr5iZjzTnFOsjayH1sV3zVxsuaY9',NULL,'127.0.0.1','curl/8.7.1','YToyOntzOjY6Il90b2tlbiI7czo0MDoiZUxWWFYwckU5OXY1a2pLZWdveERpYm9SNHhWdHFWTWNYVVVoT0s4aSI7czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754832506);
INSERT INTO sessions VALUES('fVE21NPHIOvfl5CYacBfDlC3KPFQlQa01mDLtnMC',NULL,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTozOntzOjY6Il90b2tlbiI7czo0MDoieFlqa2Zjd1lqTnVuZFh3ZE42YVo5c0ZTVVZoMWFLSEV2ZFJRRnBDcCI7czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6NDI6Imh0dHA6Ly9jaGFsay1sZWFkcy1hcHAudGVzdC93aWRnZXRzLzEvbGl2ZSI7fXM6NjoiX2ZsYXNoIjthOjI6e3M6Mzoib2xkIjthOjA6e31zOjM6Im5ldyI7YTowOnt9fX0=',1754832591);
INSERT INTO sessions VALUES('NU7XiFKceFDQc42KBBn6uphODVuHpg1fmFpZNZF0',NULL,'127.0.0.1','curl/8.7.1','YToyOntzOjY6Il90b2tlbiI7czo0MDoiVTA1Tk53TmFpc093dVZ0QWNqb3IxWlBqZTNXSDZ2bjhwZFV3Z3ZVOCI7czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754832739);
INSERT INTO sessions VALUES('uTlysjhFMCbLrH2GBAd4Ns3YgeKzQJvdEcqTqfmf',NULL,'127.0.0.1','curl/8.7.1','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiNGlLOVI2emQ0cmNlVVZaNkkwUVVGNDdZdENiNGtnc2NQSVhvOUdrQSI7czozOiJ1cmwiO2E6MTp7czo4OiJpbnRlbmRlZCI7czozNzoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L2Rhc2hib2FyZCI7fXM6OToiX3ByZXZpb3VzIjthOjE6e3M6MzoidXJsIjtzOjM3OiJodHRwOi8vY2hhbGstbGVhZHMtYXBwLnRlc3QvZGFzaGJvYXJkIjt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754834930);
INSERT INTO sessions VALUES('HsHkFcWMT4sD4Qj7EkBcP3zKSo8YccAeKDT4O9DV',NULL,'127.0.0.1','curl/8.7.1','YTozOntzOjY6Il90b2tlbiI7czo0MDoiYVJ2TjA5TktxZEJrOHd2NGt6SHIySTlIYjhKdjJ5dlRFUm8xZ09LdyI7czozOiJ1cmwiO2E6MTp7czo4OiJpbnRlbmRlZCI7czoyNzoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0Ijt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754834939);
INSERT INTO sessions VALUES('q0khYkoq2VWsP9BJAhHotkNr6IdwyKK3BU3ZZVKQ',3,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiZlRVWHJ1d1J5emVkVHdIWW5aT0ZnZTBZQUgxQWR5c1NFRElkdzVEYSI7czo1MDoibG9naW5fd2ViXzU5YmEzNmFkZGMyYjJmOTQwMTU4MGYwMTRjN2Y1OGVhNGUzMDk4OWQiO2k6MztzOjk6Il9wcmV2aW91cyI7YToxOntzOjM6InVybCI7czo0MjoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L3dpZGdldHMvMS9saXZlIjt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754852135);
INSERT INTO sessions VALUES('7XUjHUwJgTjNiZQlf1A1FRpG6jbagCtaxgytfbnh',3,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiZ3FwUlFpekMxb2t6bUxPVlI4UDE5aVBLdm9zYTIwUlJ0MWJhYW9zUyI7czo1MDoibG9naW5fd2ViXzU5YmEzNmFkZGMyYjJmOTQwMTU4MGYwMTRjN2Y1OGVhNGUzMDk4OWQiO2k6MztzOjk6Il9wcmV2aW91cyI7YToxOntzOjM6InVybCI7czo0MjoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L3dpZGdldHMvMS9lZGl0Ijt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754852135);
INSERT INTO sessions VALUES('ACxeW8CqkTwYxCgfJb1AYD40OEe8nnrOHFIHX5f6',3,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiRWVYT0NRRHJDd0M1dm5ya3l4c1R0SFJCNWNsTXA0R3RJS09ncXo3TCI7czo1MDoibG9naW5fd2ViXzU5YmEzNmFkZGMyYjJmOTQwMTU4MGYwMTRjN2Y1OGVhNGUzMDk4OWQiO2k6MztzOjk6Il9wcmV2aW91cyI7YToxOntzOjM6InVybCI7czo0MjoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L3dpZGdldHMvMS9saXZlIjt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754852135);
INSERT INTO sessions VALUES('gUESi1SNWLnTSK7FgwOsGMfBnnWNGJqyDvWpSiis',3,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiRjkyRjdsRERSd3RnT1hXR2xJV2ZVQjJBa01BcVFzQTlBaFE5Uld0eSI7czo1MDoibG9naW5fd2ViXzU5YmEzNmFkZGMyYjJmOTQwMTU4MGYwMTRjN2Y1OGVhNGUzMDk4OWQiO2k6MztzOjk6Il9wcmV2aW91cyI7YToxOntzOjM6InVybCI7czo0MjoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L3dpZGdldHMvMS9lZGl0Ijt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754919499);
INSERT INTO sessions VALUES('cEr02BkY7opO4GF7CK9CZgOxhFjfnjdkgzDBvGI3',3,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiRnJBdHRocGswdTFFMjVqWlVtSU9OMkFPcXNYSzQ3VFJTQXRFRFJFRiI7czo1MDoibG9naW5fd2ViXzU5YmEzNmFkZGMyYjJmOTQwMTU4MGYwMTRjN2Y1OGVhNGUzMDk4OWQiO2k6MztzOjk6Il9wcmV2aW91cyI7YToxOntzOjM6InVybCI7czo0MjoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L3dpZGdldHMvMS9saXZlIjt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754919499);
INSERT INTO sessions VALUES('RY9pckeoxLpetGiMa1aUnn2M5dqYMvqFTks2NhMZ',3,'127.0.0.1','Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36','YTo0OntzOjY6Il90b2tlbiI7czo0MDoiekhPOGgyOG9rVFFRYmZWdnlRS1ppY1kxRFJNY0YxNXhEMHY4U2hkcSI7czo1MDoibG9naW5fd2ViXzU5YmEzNmFkZGMyYjJmOTQwMTU4MGYwMTRjN2Y1OGVhNGUzMDk4OWQiO2k6MztzOjk6Il9wcmV2aW91cyI7YToxOntzOjM6InVybCI7czo0MjoiaHR0cDovL2NoYWxrLWxlYWRzLWFwcC50ZXN0L3dpZGdldHMvMS9saXZlIjt9czo2OiJfZmxhc2giO2E6Mjp7czozOiJvbGQiO2E6MDp7fXM6MzoibmV3IjthOjA6e319fQ==',1754921822);
CREATE TABLE IF NOT EXISTS "cache" ("key" varchar not null, "value" text not null, "expiration" integer not null, primary key ("key"));
CREATE TABLE IF NOT EXISTS "cache_locks" ("key" varchar not null, "owner" varchar not null, "expiration" integer not null, primary key ("key"));
CREATE TABLE IF NOT EXISTS "jobs" ("id" integer primary key autoincrement not null, "queue" varchar not null, "payload" text not null, "attempts" integer not null, "reserved_at" integer, "available_at" integer not null, "created_at" integer not null);
CREATE TABLE IF NOT EXISTS "job_batches" ("id" varchar not null, "name" varchar not null, "total_jobs" integer not null, "pending_jobs" integer not null, "failed_jobs" integer not null, "failed_job_ids" text not null, "options" text, "cancelled_at" integer, "created_at" integer not null, "finished_at" integer, primary key ("id"));
CREATE TABLE IF NOT EXISTS "failed_jobs" ("id" integer primary key autoincrement not null, "uuid" varchar not null, "connection" text not null, "queue" text not null, "payload" text not null, "exception" text not null, "failed_at" datetime not null default CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS "companies" ("id" integer primary key autoincrement not null, "name" varchar not null, "domain" varchar, "subscription_tier" varchar not null default 'free', "settings" text, "is_active" tinyint(1) not null default '1', "created_at" datetime, "updated_at" datetime);
INSERT INTO companies VALUES(1,'Demo Widget Company','demo.chalkleads.com','pro',NULL,1,'2025-08-06 20:21:39','2025-08-06 20:21:39');
INSERT INTO companies VALUES(2,'Atlanta Moving Company','atlantamovingcompany.com','free','{"timezone":"America\/New_York","phone":"(404) 555-MOVE","email":"info@atlantamovingcompany.com","address":"1234 Peachtree Street, Atlanta, GA 30309","service_area":"Metro Atlanta and surrounding areas","hours":"Mon-Sun: 7AM-7PM","license":"GA DOT#12345","insurance":"Full liability and cargo insurance"}',1,'2025-08-06 20:21:39','2025-08-06 20:21:39');
CREATE TABLE IF NOT EXISTS "widgets" ("id" integer primary key autoincrement not null, "company_id" integer not null, "name" varchar not null, "service_category" varchar not null, "service_subcategory" varchar, "domain" varchar, "company_name" varchar not null, "status" varchar check ("status" in ('draft', 'published', 'paused')) not null default 'draft', "widget_key" varchar not null, "embed_domain" varchar, "enabled_modules" text, "module_configs" text, "branding" text, "settings" text, "created_at" datetime, "updated_at" datetime, "pricing" text, foreign key("company_id") references "companies"("id") on delete cascade);
INSERT INTO widgets VALUES(1,2,'Atlanta Moving - Complete Estimation Calculator','moving-services','Full Service & Labor Only Moving','https://atlantamovingcompany.com','Atlanta Moving Company','published','b6kDrhI6P8J6t8XhoRLH2zNiuyl7sD3H',NULL,'["service-selection","service-type","location-type","project-scope","time-selection","date-selection","origin-location","origin-challenges","target-location","target-challenges","distance-calculation","additional-services","supply-selection","contact-info","review-quote"]','{"service-selection":{"title":"How can we help?","subtitle":null,"options":[{"title":"Full Service Moving","description":"We bring the crew and the trucks","icon":"Truck","price_multiplier":1},{"title":"Labor Only Services","description":"Our professionals help you load and\/or unload into your own truck","icon":"Users","price_multiplier":0.65}]},"service-type":{"title":"What do you need help with?","subtitle":"Select the type of labor assistance you need","options":[{"title":"Loading & Unloading","description":"Our crews help you load at a starting location and unload at a destination location","icon":"ArrowUpDown","price_multiplier":1},{"title":"Loading Only","description":"We help you load your items","icon":"ArrowUp","price_multiplier":0.6},{"title":"Unloading Only","description":"We help you unload previously loaded items","icon":"ArrowDown","price_multiplier":0.6}]},"location-type":{"title":"What type of location?","subtitle":"Select the type of location you''re moving between","options":[{"title":"Residential","description":"Home, apartment, condo","icon":"Home","price_multiplier":1},{"title":"Commercial","description":"Office, retail, warehouse","icon":"Building","price_multiplier":1.25},{"title":"Storage Unit","description":"Self-storage facility","icon":"Archive","price_multiplier":0.85}]},"project-scope":{"title":"What size is your move?","subtitle":"Select the size that best describes your move","options":[{"title":"Studio","description":"Starting at $350","base_price":350,"estimated_hours":3,"price_range_min":298,"price_range_max":508},{"title":"1 Bedroom","description":"Starting at $475","base_price":475,"estimated_hours":4,"price_range_min":404,"price_range_max":689},{"title":"2 Bedroom","description":"Starting at $650","base_price":650,"estimated_hours":5,"price_range_min":553,"price_range_max":943},{"title":"3 Bedroom","description":"Starting at $825","base_price":825,"estimated_hours":6.5,"price_range_min":701,"price_range_max":1196},{"title":"4 Bedroom","description":"Starting at $1,050","base_price":1050,"estimated_hours":8,"price_range_min":893,"price_range_max":1523},{"title":"5+ Bedroom","description":"Starting at $1,300","base_price":1300,"estimated_hours":10,"price_range_min":1105,"price_range_max":1885}]},"time-selection":{"title":"What''s your preferred start time?","subtitle":"Choose the time window that works best for you","options":[{"title":"Morning","description":"8AM\u201412PM","icon":"Sunrise","price_multiplier":1},{"title":"Afternoon","description":"12PM\u20144PM","icon":"Sun","price_multiplier":1},{"title":"Evening","description":"4PM\u20148PM (15% premium)","icon":"Sunset","price_multiplier":1.15}]},"origin-location":{"title":"Where are you moving from?","subtitle":"Enter your pickup location so we can provide accurate pricing and logistics","address_label":"Pickup Address"},"origin-challenges":{"title":"Pickup Location Challenges","subtitle":"Help us prepare the right equipment and crew for your pickup location","options":[{"title":"Stairs (flights)","description":"Additional $45 per flight (max 10 flights)","icon":"ArrowUp","pricing_type":"per_unit","pricing_value":45,"max_units":10},{"title":"Elevator available","description":"5% discount when elevator is available","icon":"Building","pricing_type":"discount","pricing_value":-0.05},{"title":"Narrow doorways","description":"Fixed $85 fee for narrow doorway complications","icon":"AlertTriangle","pricing_type":"fixed","pricing_value":85},{"title":"Long distance from parking","description":"15% increase for long distance from parking","icon":"Truck","pricing_type":"percentage","pricing_value":0.15},{"title":"Heavy\/bulky items","description":"12% increase for heavy\/bulky items","icon":"AlertTriangle","pricing_type":"percentage","pricing_value":0.12},{"title":"Fragile items","description":"Fixed $125 fee for extra care with fragile items","icon":"AlertTriangle","pricing_type":"fixed","pricing_value":125}]},"target-location":{"title":"Where are you moving to?","subtitle":"Enter your destination address to complete the route planning","address_label":"Destination Address"},"target-challenges":{"title":"Destination Challenges","subtitle":"Help us prepare for any challenges at your destination location","options":[{"title":"Stairs (flights)","description":"Additional $45 per flight (max 10 flights)","icon":"ArrowUp","pricing_type":"per_unit","pricing_value":45,"max_units":10},{"title":"Elevator available","description":"5% discount when elevator is available","icon":"Building","pricing_type":"discount","pricing_value":-0.05},{"title":"Narrow doorways","description":"Fixed $85 fee for narrow doorway complications","icon":"AlertTriangle","pricing_type":"fixed","pricing_value":85},{"title":"Long distance from parking","description":"15% increase for long distance from parking","icon":"Truck","pricing_type":"percentage","pricing_value":0.15},{"title":"Heavy\/bulky items","description":"12% increase for heavy\/bulky items","icon":"AlertTriangle","pricing_type":"percentage","pricing_value":0.12},{"title":"Fragile items","description":"Fixed $125 fee for extra care with fragile items","icon":"AlertTriangle","pricing_type":"fixed","pricing_value":125}]},"distance-calculation":{"title":"Route Calculation","subtitle":"Calculating driving distance between your pickup and destination locations","cost_per_mile":4,"minimum_distance":0},"additional-services":{"title":"Any additional services?","subtitle":"Select any additional services you might need","options":[{"title":"Packing Services","description":"Professional packing of your belongings (25% additional)","icon":"Package","pricing_type":"percentage","pricing_value":0.25},{"title":"Moving Insurance","description":"Additional protection for your items (8% additional)","icon":"Shield","pricing_type":"percentage","pricing_value":0.08},{"title":"Furniture Disassembly","description":"Take apart and reassemble furniture (+$200)","icon":"Wrench","pricing_type":"fixed","pricing_value":200},{"title":"Storage Service","description":"Temporary storage for your items (+$150)","icon":"Archive","pricing_type":"fixed","pricing_value":150},{"title":"Cleaning Service","description":"Post-move cleaning service (+$175)","icon":"Home","pricing_type":"fixed","pricing_value":175}]},"supply-selection":{"title":"Select Moving Supplies","subtitle":"Choose from our professional moving supplies","categories":[{"name":"Moving Boxes","description":"Various sizes of moving boxes for your belongings","icon":"Package","items":[{"name":"Small Box","description":"Perfect for books and heavy items (16\" x 12\" x 12\")","price":2.5},{"name":"Medium Box","description":"Great for clothes and kitchen items (18\" x 14\" x 12\")","price":3.25},{"name":"Large Box","description":"Ideal for linens and lightweight items (20\" x 20\" x 15\")","price":4.75},{"name":"Wardrobe Box","description":"Hanging clothes box with bar (24\" x 20\" x 46\")","price":12.99}]},{"name":"Packing Materials","description":"Essential materials to protect your items","icon":"Shield","items":[{"name":"Packing Tape","description":"Heavy-duty adhesive tape (2\" x 55 yards)","price":4.99},{"name":"Bubble Wrap","description":"Protective bubble wrap (12\" x 25 feet)","price":8.99},{"name":"Packing Paper","description":"Newsprint packing paper (24\" x 36\" - 25 lbs)","price":12.99},{"name":"Permanent Markers","description":"Pack of 4 black markers","price":6.99}]},{"name":"Furniture Protection","description":"Protect your furniture during the move","icon":"Home","items":[{"name":"Furniture Pads","description":"Heavy-duty moving blankets (72\" x 80\")","price":15.99},{"name":"Mattress Covers","description":"Plastic mattress protectors (Queen\/King size)","price":8.99},{"name":"Stretch Wrap","description":"Industrial strength plastic wrap (18\" x 1500 feet)","price":11.99}]},{"name":"Specialty Items","description":"Specialized packing for fragile items","icon":"Star","items":[{"name":"Dish Pack Kit","description":"Complete kit for dishes and glassware","price":24.99},{"name":"Picture Boxes","description":"Adjustable boxes for artwork (up to 40\")","price":18.99},{"name":"TV Moving Box","description":"Custom box for flat screen TVs (up to 65\")","price":29.99}]}]},"contact-info":{"title":"Let''s get your contact information","subtitle":"We''ll contact you within 1 hour with your detailed quote"},"review-quote":{"title":"Review Your Moving Quote","subtitle":"Here''s your personalized estimate based on your selections"},"date-selection":{"title":"When is Your Moving Day?","subtitle":"Select the date you plan on moving"}}','{"primary_color":"#1E40AF","secondary_color":"#1F2937"}','{"tax_rate":0.08,"service_area_miles":100,"minimum_job_price":200,"show_price_ranges":true}','2025-08-06 20:21:40','2025-08-09 06:34:13',NULL);
CREATE TABLE IF NOT EXISTS "widget_steps" ("id" integer primary key autoincrement not null, "widget_id" integer not null, "step_key" varchar not null, "title" varchar not null, "subtitle" varchar, "prompt" text, "options" text, "buttons" text, "layout" text, "validation" text, "order_index" integer not null, "is_enabled" tinyint(1) not null default '1', "created_at" datetime, "updated_at" datetime, foreign key("widget_id") references "widgets"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "widget_leads" ("id" integer primary key autoincrement not null, "widget_id" integer not null, "lead_data" text not null, "contact_info" text not null, "estimated_value" numeric, "status" varchar check ("status" in ('new', 'contacted', 'converted', 'lost')) not null default 'new', "source_url" varchar, "ip_address" varchar, "user_agent" text, "created_at" datetime, "updated_at" datetime, foreign key("widget_id") references "widgets"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "widget_pricing" ("id" integer primary key autoincrement not null, "widget_id" integer not null, "category" varchar not null, "pricing_rules" text not null, "created_at" datetime, "updated_at" datetime, foreign key("widget_id") references "widgets"("id") on delete cascade);
CREATE TABLE IF NOT EXISTS "widget_templates" ("id" integer primary key autoincrement not null, "name" varchar not null, "description" text, "service_category" varchar not null, "template_data" text not null, "is_public" tinyint(1) not null default '0', "created_by" integer, "usage_count" integer not null default '0', "created_at" datetime, "updated_at" datetime, foreign key("created_by") references "users"("id") on delete set null);
CREATE TABLE IF NOT EXISTS "users" ("id" integer primary key autoincrement not null, "name" varchar not null, "email" varchar not null, "email_verified_at" datetime, "password" varchar not null, "remember_token" varchar, "created_at" datetime, "updated_at" datetime, "company_id" integer, "role" varchar not null default 'user', "is_active" tinyint(1) not null default ('1'), "last_login_at" datetime, foreign key("company_id") references companies("id") on delete cascade on update no action);
INSERT INTO users VALUES(1,'Admin User','admin@demo.com','2025-08-06 20:21:39','$2y$12$OsL0Aq4b065gRLXYQwQQeuI.52uKIoKZ5JhW0XZxtDlSWDgrxiyx.',NULL,'2025-08-06 20:21:39','2025-08-06 20:21:39',1,'admin',1,NULL);
INSERT INTO users VALUES(2,'Regular User','user@demo.com','2025-08-06 20:21:39','$2y$12$PklbK.Ri0tyw3JQQmMpZHuPlzxuGjAH7cX1VZeLeW9WjERxTiSo1O',NULL,'2025-08-06 20:21:39','2025-08-06 20:21:39',1,'user',1,NULL);
INSERT INTO users VALUES(3,'Atlanta Moving Admin','admin@atlantamovingcompany.com',NULL,'$2y$12$6ce3ibtWE6iVm39fh5vleOxxR8jlhJG9kewtl.Rr9gb4oY7nvM6wW','gAnVGun4sqto6wwQhFdmvTLIyfV93atT2KTc3UhbjioQuKkwW00VF893cdFg','2025-08-06 20:21:40','2025-08-08 14:23:23',2,'admin',1,NULL);
INSERT INTO users VALUES(4,'System Administrator','admin@chalkleads.com','2025-08-08 13:56:02','$2y$12$SVX7cnUapYGmq9rhEGB9oebWEoFisnO9.e7PyTiK0qMGWqS5HK/Ne','UoOLFiEivenpMmIflUzslpCjbNh749lok5dNBfCHlNMi4Bq7k7q6TO54Qdpt','2025-08-08 13:56:02','2025-08-08 13:56:02',NULL,'system_admin',1,NULL);
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('migrations',12);
INSERT INTO sqlite_sequence VALUES('companies',2);
INSERT INTO sqlite_sequence VALUES('widgets',1);
INSERT INTO sqlite_sequence VALUES('users',4);
CREATE INDEX "sessions_user_id_index" on "sessions" ("user_id");
CREATE INDEX "sessions_last_activity_index" on "sessions" ("last_activity");
CREATE INDEX "jobs_queue_index" on "jobs" ("queue");
CREATE UNIQUE INDEX "failed_jobs_uuid_unique" on "failed_jobs" ("uuid");
CREATE INDEX "widgets_company_id_status_index" on "widgets" ("company_id", "status");
CREATE INDEX "widgets_widget_key_index" on "widgets" ("widget_key");
CREATE UNIQUE INDEX "widgets_widget_key_unique" on "widgets" ("widget_key");
CREATE INDEX "widget_steps_widget_id_order_index_index" on "widget_steps" ("widget_id", "order_index");
CREATE UNIQUE INDEX "widget_steps_widget_id_step_key_unique" on "widget_steps" ("widget_id", "step_key");
CREATE INDEX "widget_leads_widget_id_status_created_at_index" on "widget_leads" ("widget_id", "status", "created_at");
CREATE UNIQUE INDEX "widget_pricing_widget_id_category_unique" on "widget_pricing" ("widget_id", "category");
CREATE INDEX "widget_templates_service_category_is_public_index" on "widget_templates" ("service_category", "is_public");
CREATE UNIQUE INDEX "users_email_unique" on "users" ("email");
COMMIT;
